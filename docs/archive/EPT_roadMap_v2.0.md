# EPT\_roadMap\_v2.0.md

---

## 第1章. プロジェクト概要と目的

* 裁量トレーダーの意思決定と改善サイクル（計画 → 取引 → 記録 → 分析）を一貫して支援する、統合的エコシステムを構築する。
* UX重視・段階開発・OOP設計の原則により、MQL4→MQL5への発展可能なフレームを目指す。
* 本ドキュメントは、プロジェクト全体の進行フェーズを可視化するロードマップである。

---

## 第2章. フェーズ構成と支援範囲

| フェーズ名          | 役割               | 主な支援内容               |
| -------------- | ---------------- | -------------------- |
| 計画（Planning）   | 戦略作成・仮想ライン・リスク設計 | チャートUI・ZigZag・シナリオメモ |
| 取引（Entry/Exit） | エントリー・決済操作支援     | パネルUI・ロット計算・TP/SL制御  |
| 記録（Journal）    | ログ保存・メモ・スクショ記録   | スナップ保存・Notion連携      |
| 分析（Analytics）  | 過去トレードの傾向分析      | 勝率、RR比、時間帯分析など       |

---

## 第3章. 各フェーズの開発方針

### 3.1 計画フェーズ

* チャート上での直感的な戦略記述（仮想エントリー、ライン描画、注釈メモ）を支援する。
* MQL5ベースで構築し、ユーザーによる仮説形成と戦略整理の操作感を重視。
* 補助ツールとしてPythonやスクリーンショット保存機能の連携を想定。

### 3.2 取引フェーズ

* 現在はMQL4で成行エントリー・ロット管理・建値移動（BE）を実装済。
* 次段階ではMQL5へ移行し、標準クラス（CDialogなど）でのUI再構築を行う。
* 反発型Pending注文、複数TPなどの拡張機能もこのフェーズに統合予定。

### 3.3 記録フェーズ

* 実行したトレード内容（Entry/Exit）、メモ、スクリーンショットの保存機能を実装。
* Notion連携により、1トレード＝1ページの形式で戦略と結果の統合管理を目指す。
* Pythonを介した記録自動化・形式整備も今後段階的に導入予定。

### 3.4 分析フェーズ

* MQL5で蓄積されたログをもとに、勝率・RR比・時間帯別の成績可視化を支援。
* 統計分析はPythonやExcelとの連携も視野に入れ、拡張性の高い分析機構を構築。
* 将来的にはトレーダーの傾向抽出・AIによる提案機能と接続される基盤となる。

---

## 第4章. 開発戦略と技術スタック

EdgeProTraderでは以下の技術を段階的かつ戦略的に導入し、フェーズ別の実装・連携に活用している。

### MQL4（初期Entryモジュール）

* 実装スピードと動作安定性を重視し、Entryフェーズの初期開発にはMQL4を採用。
* OrderSendによる成行注文、OBJ系UIによるパネル構築をベースに、SL/TP/BEなどの基本機能を段階的に実装。

### MQL5（最終構想の基盤）

* Planning / Journal / Analytics のすべてのフェーズにおいては、MQL5を標準プラットフォームとする。
* CDialogを使った高度なUI構築、CTradeによる取引抽象化により、UXと拡張性の両立を目指す。
* MQL4実装はMQL5移行を前提とした構造設計（条件分岐, 抽象インターフェース）で進める。

### Python（補助ツール・外部連携）

* スクリーンショット保存、Notion連携、自動ログ整形など、MQLでは困難な機能を補助的に担う。
* 将来的には分析処理やトレードログ集計にも活用範囲を広げ、分析フェーズの中核処理エンジンとして展開予定。

### Notion（戦略・記録の保存基盤）

* ユーザーが記録した戦略・メモ・トレード履歴を1ページに統合管理するUIとして活用。
* Python経由でAPI連携し、テンプレートベースの記録管理を実現予定。
* 補助的ではあるがUXの大幅な向上に寄与するため、必要時に段階導入する方針。

---

## 第5章. 中長期構想（Visionと進化方針）

EdgeProTraderプロジェクトは、裁量トレーダーの成長と戦略再現性を支援するため、以下の2つの構想を中長期的なビジョンとして掲げている。

### Phase5：AI支援フェーズ 〜 戦略意図の理解と再提示

* ユーザーが記録した戦略ラベルやZigZagラインなどのチャート情報をGPTが解析し、
  過去の戦略パターンや判断根拠を要約・構造化する。
* 似た相場局面が再発した際に、過去の成功パターンをGPTが再提示する仕組みを構築。
* トレーダーの裁量判断をAIがサポートし、判断の再現性と学習性を高める「パーソナルアシストAI」を目指す。

### Phase6：EA化接続フェーズ 〜 戦略の自動化とコード生成支援

* 上記で構造化された戦略テンプレートをもとに、GPTが自動売買コード（EA）の雛形を生成する支援機構を構築。
* エントリー条件、TP/SLルール、トリガー要因（ZigZag、足形、ラインなど）を組み合わせたコードテンプレート方式。
* 完全自動化ではなく、「裁量 → 自動の橋渡し」として柔軟なEA化フローを実現する。
* 将来的には、GUIから条件を選択し、カスタマイズEAを半自動生成するビルダー機能も視野に入れる。

この2フェーズは、トレーダーの戦略思考を記録・再利用・強化することに重点を置いており、エコシステムの進化軸として位置づけられている。

---

## 第6章. 段階的開発ステップとマイルストーン

本章では、EdgeProTraderの開発を6つのフェーズに分けて整理し、それぞれの目的・到達目標・進捗状況をマッピングする。各フェーズは段階的に連携しており、前工程の成果を次工程に引き継ぐ設計で進行する。

| フェーズ   | 開発内容                                                   | 状況               |
| ------ | ------------------------------------------------------ | ---------------- |
| Phase1 | エントリーパネル構築（MQL4）<br>基本操作・ロット制御・SL/TPの表示など、裁量支援ツールの核を形成 | ✅ 実装中（v1.4〜v1.5） |
| Phase2 | 建値移動（BE）処理の実装と、状態管理によるボタン制御の高度化                        | ✅ 実装中・試験完了       |
| Phase3 | MQL5対応のUI再構築（CDialogベース）とEntryモジュールの移植                 | ⏳ 未着手（企画済）       |
| Phase4 | トレード記録（メモ・スクショ・ログ）の自動化とNotion投稿連携                      | ⏳ 未着手            |
| Phase5 | GPTによる過去戦略の理解・要約・再提示機能の構築                              | ⏳ 構想レベル          |
| Phase6 | 戦略テンプレートから自動売買コード（EA）を生成する支援機構                         | ⏳ 構想レベル          |

---

## 第7章. 運用原則と注意点

EdgeProTraderでは、継続的な開発と構造的な保守の両立を目的として、以下の原則を全フェーズにおいて徹底する。

* **ドキュメントファースト**
  設計・仕様・ルールは事前に文書化し、開発と記録の一貫性を保つ。

* **段階開発・段階公開**
  最小構成で機能をリリースし、実用性を確保しつつ段階的に拡張する。

* **OOP設計（1クラス1責務）**
  ロジックとUIの分離、各クラスの単一責務化により、再利用性と拡張性を担保する。

* **MQL5前提設計**
  MQL4での実装時もMQL5移行を意識し、共通クラス化と条件分岐設計を徹底する。

これらの原則は、開発効率の向上のみならず、AI支援や外部連携機能の将来的な統合を円滑にする基盤として重要である。

---

## 第8章. 付録・関連ドキュメント

以下は、本ロードマップと相互参照すべき主要ドキュメント群である。それぞれの役割を明確に分担し、仕様・構想・実装のトレーサビリティを確保する。

| ドキュメント名                        | 内容・役割                                |
| ------------------------------ | ------------------------------------ |
| `EPT_project_v2.0.md`          | 全体構想とAI構想を含むフェーズ横断のビジョン定義            |
| `EPT_spec_v2.0.md`             | Entry機能に関するUI構成・状態制御・仕様定義            |
| `EPT_Class_v2.0.md`            | View/Logic/Trade各クラスの責務・関数構成・依存関係の定義 |
| `EPT_spec_MQL_Designs_v2.0.md` | MQL4/5のAPI差異と三層構造アーキテクチャの設計仕様        |
| `EPT_transitionPack.md`        | 設計〜実装引き継ぎテンプレート・コードマッピング表            |
| `EPT_prompt_v5.0.md`           | GPT支援出力のルール定義・スレッド運用テンプレート集          |

> 補足：今後、新たな移行事例（例：`EPT_transition_F2Entry_v1.0.md`）やプロンプト別人格ガイドも随時追加予定。
> \|----------------|------|
> \| `EPT_project_v2.0.md` | 構想全体の詳細 |
> \| `EPT_spec_v2.0.md` | Entry機能のUI仕様書 |
> \| `EPT_Class_v2.0.md` | 各クラス責務と関数定義 |
> \| `EPT_spec_MQL_Designs_v2.0.md` | MQL設計の全体構造と移行戦略 |
> \| `EPT_transitionPack.md` | 引き継ぎテンプレ・コードマップ |
> \| `EPT_prompt_v5.0.md` | GPT支援ルールと出力ガイドライン |
